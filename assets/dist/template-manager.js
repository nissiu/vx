!function(e){"function"==typeof define&&define.amd?define("templateManager",e):e()}(function(){"use strict";jQuery(e=>{var t=document.getElementById("vx-template-manager");if(t){let e=JSON.parse(t.dataset.config);var a=Vue.createApp({el:t,data(){return{config:e,tab:e.tab}},methods:{setTab(e){this.tab=e;var t=new URL(window.location);t.searchParams.set("tab",e),window.history.replaceState(null,null,t)},editLink(e){return this.config.editLink.replace("{id}",e)},previewLink(e){return this.config.previewLink.replace("{id}",e)}}});a.component("field-key",Voxel_Backend.components.Field_Key),a.component("template-settings",{template:"#template-manager-popup",props:{template:Object},data(){return{modifyId:!1,newId:this.template.id,updating:!1}},methods:{saveId(){this.updating=!0,jQuery.get(Voxel_Config.ajax_url,{action:"backend.update_template_id",template_key:this.template.key,new_template_id:this.newId}).always(e=>{this.updating=!1,e.success?(this.template.id=this.newId,this.modifyId=!1):Voxel_Backend.alert(e.message||Voxel_Config.l10n.ajaxError,"error")})}}}),a.mount(t)}})});
